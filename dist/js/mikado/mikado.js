"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),Mikado=function(){function e(){_classCallCheck(this,e),this.w=window,this.doc=document,this.html=this.doc.documentElement,this.vendorUrl="dist/js/vendor/",this.moduleUrl="dist/js/mikado/modules/",this.polyfillReady=!1,this.dev=!1,this.systemReady=!1;var n=this;this.doc.addEventListener("polyfillReady",function(){n.polyfillReady=!0}),this.doc.addEventListener("DOMContentLoaded",function(){Base.logger("Window Loaded: loading enhancers..."),n.loadEnhancers()}),this.doc.addEventListener("systemReady",function(){n.systemReady=!0})}return _createClass(e,[{key:"moduleURL",value:function(e){return this.moduleUrl+e}},{key:"loadSystemJs",value:function(){e.loadConditionalGlobal("body","System",this.moduleURL("system.min.js"),function(){systemConfig=systemConfig||{},SystemJS.config(systemConfig),Base.triggerEvent("systemReady")})}},{key:"loadLazySizes",value:function(){var n=!1;document.querySelector("[data-bg]")?(e.loadConditionalGlobal("[data-bg]","unveilhooks",mikado.moduleURL("ls.unveilhooks.min.js"),function(){Base.triggerEvent("loadLazySizes")},null),n=!1):n=!0,document.addEventListener("loadLazySizes",function(){window.lazySizesConfig=window.lazySizesConfig||{};var n="lazyClass"in window.lazySizesConfig?window.lazySizesConfig.lazyClass:".lazyload";e.loadConditionalGlobal(n,"lazysizes",mikado.moduleURL("lazysizes.min.js"),function(){},"lazySizes")}),n&&Base.triggerEvent("loadLazySizes")}},{key:"loadEnhancers",value:function(){this.loadSystemJs(),e.loadConditionalGlobal("form","validate",this.moduleURL("validate.min.js")),this.loadLazySizes()}}],[{key:"loadConditionalImport",value:function(e,n,o){if(document.querySelector(e))return"System"in Window?System["import"](n).then(o):(document.addEventListener("systemReady",function(){System["import"](n).then(o)}),!1)}},{key:"loadConditionalGlobal",value:function(e,n,o,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t=t||function(){},document.querySelector(e)){var a="script#"+n;document.querySelector(a)?i in window?t.call():document.querySelector(a).addEventListener("load",function(){t.call()}):Base.loadScript(o,t,n)}}}]),e}(),mikado=new Mikado;