function detectIE(){var e=window.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);var t=e.indexOf("Trident/");if(t>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}function wheel(e){e.wheelDelta?delta=e.wheelDelta/120:e.detail&&(delta=-e.detail/3),handle(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function handle(){var e=document.documentElement,n=(window.pageYOffset||e.scrollTop)-(e.clientTop||0);window.scroll({top:n-distance*delta,left:0,behavior:"smooth"})}function isInViewport(e){var n=e.getBoundingClientRect();return!(n.bottom<0||n.top>window.innerHeight)}window.appbrowser={};var prefix=function(){var e=window.getComputedStyle(document.documentElement,""),n=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],t="WebKit|Moz|MS|O".match(new RegExp("("+n+")","i"))[1];return{dom:t,lowercase:n,css:"-"+n+"-",js:n[0].toUpperCase()+n.substr(1)}},version=detectIE();version===!1?(window.appbrowser.name=!1,window.appbrowser.version=!1):version>=12?(window.appbrowser.name="Edge",window.appbrowser.version=version):(window.appbrowser.name="IE",window.appbrowser.version=version),window.appbrowser.prefix=prefix(),window.appbrowser.properties={transform:"transform"in document.createElement("div").style?"transform":window.appbrowser.prefix.lowercase+"Transform"};var distance=200,ticking=!1,ieScroll=function(){window.appbrowser.name&&window.appbrowser.version&&(window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=wheel,window.addEventListener("keydown",function(e){var n=document.documentElement,t=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);switch(e.which){case 38:e.preventDefault(),window.scroll({top:t-(t-distance),left:0,behavior:"smooth"});break;case 40:e.preventDefault(),window.scroll({top:t-(t+distance),left:0,behavior:"smooth"})}}))};window.addEventListener("scroll",function(e){ticking||window.requestAnimationFrame(function(){[].slice.call(document.querySelectorAll("[data-visible]")).forEach(function(e){e.dataset.visible=!!isInViewport(e)}),ticking=!1}),ticking=!0});var parallax=function(e,n,t){t="undefined"==typeof t?e.parentElement:document.querySelector(t);var o=(e.dataset.ratio?e.dataset.ratio:1,window.innerHeight),r=t.clientHeight,i=e.clientHeight,a=t.getBoundingClientRect().top,l=a/o*(r-i);window.requestAnimationFrame(function(){e.style[window.appbrowser.properties.transform]="translateY("+l+"px)"})},initParallax=function(){[].slice.call(document.querySelectorAll("[data-parallax]")).forEach(function(e){e.parentElement.dataset.visible="true";var n=document.documentElement,t=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);parallax(e,t)})},doParallax=function(){[].slice.call(document.querySelectorAll("[data-parallax]")).forEach(function(e){if(e.parentElement.dataset.visible){var n=document.documentElement,t=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);parallax(e,t)}})};window.addEventListener("scroll",doParallax),window.addEventListener("load",initParallax),ieScroll();